apply plugin: 'war'


group = 'net.wasdev.sample'
version = '1.0-SNAPSHOT'
description = "PlantsByWebSphere"

sourceCompatibility = 1.7
targetCompatibility = 1.7
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

buildscript {
    repositories {
        mavenCentral()
    }
}

repositories {
    mavenCentral()
}


dependencies {
	providedCompile 'javax:javaee-api:7.0'
}


war.archiveName "${rootProject.name}.war"

project(":pbwear") {
  apply plugin: 'ear'

  project.version = rootProject.version
  project.buildDir = rootProject.buildDir

  dependencies {
    deploy project(path:":", configuration:'archives')
  }
  ear {
    deploymentDescriptor {
      applicationName = "PlantsByWebSphere"
      displayName = "PlantsByWebSphere"
      archiveName = "plants-by-websphere-jee6-mariadb.ear"
      webModule(rootProject.configurations['archives'].artifacts[0].file.name, "/")
    }
  }
}
